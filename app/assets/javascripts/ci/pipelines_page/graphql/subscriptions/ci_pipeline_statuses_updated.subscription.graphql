#import "~/graphql_shared/fragments/ci_icon.fragment.graphql"

subscription pipelineStatusesUpdated($projectId: ProjectID!) {
  ciPipelineStatusesUpdated(projectId: $projectId) {
    id
    iid
    detailedStatus {
      ...CiIcon
      name
      label
      hasDetails
    }
    finishedAt
    duration
    retryable
    cancelable
    stuck
    yamlErrors
    failureReason
    stages {
      nodes {
        id
        name
        detailedStatus {
          ...CiIcon
          tooltip
        }
      }
    }
  }
}
