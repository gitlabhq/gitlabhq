# @feature_category: continuous_integration
#import "~/graphql_shared/fragments/ci_icon.fragment.graphql"

subscription mrPipelineStatusUpdated($pipelineId: CiPipelineID!) {
  ciPipelineStatusUpdated(pipelineId: $pipelineId) {
    id
    iid
    detailedStatus {
      ...CiIcon
      name
      label
      hasDetails
    }
    finishedAt
    duration
    retryable
    cancelable
    stuck
    yamlErrors
    failureReason
    stages {
      nodes {
        id
        name
        detailedStatus {
          ...CiIcon
          tooltip
        }
      }
    }
  }
}
