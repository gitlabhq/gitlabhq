#import "~/graphql_shared/fragments/page_info.fragment.graphql"
#import "~/ci/pipelines_page/graphql/fragments/pipeline_details.fragment.graphql"

query getMergeRequestPipelines(
  $mergeRequestIid: String!
  $fullPath: ID!
  $first: Int
  $last: Int
  $after: String
  $before: String
) {
  project(fullPath: $fullPath) {
    id
    fullPath
    mergeRequest(iid: $mergeRequestIid) {
      id
      iid
      title
      webPath
      pipelines(first: $first, last: $last, after: $after, before: $before) {
        count
        nodes {
          ...PipelineDetails
        }
        pageInfo {
          ...PageInfo
        }
      }
    }
  }
}
