extend type Project {
  securityTrackedRefs(after: String, before: String): LocalTrackedRefConnection
}

type LocalTrackedRefConnection {
  nodes: [LocalTrackedRef!]!
  pageInfo: LocalPageInfo!
  count: Int!
}

type LocalTrackedCommit {
  sha: String
  shortId: String
  title: String
  authoredDate: String
  webPath: String
}

type LocalTrackedRef {
  id: ID!
  name: String!
  refType: String!
  isDefault: Boolean!
  isProtected: Boolean!
  commit: LocalTrackedCommit
  vulnerabilitiesCount: Int!
}

input SecurityTrackedRefsUntrackInput {
  projectPath: ID!
  refIds: [ID!]!
  archiveVulnerabilities: Boolean!
}

type SecurityTrackedRefsUntrackPayload {
  untrackedRefIds: [ID!]!
  errors: [String]!
}

input LocalTrackedCommitInput {
  sha: String
  shortId: String
  title: String
  authoredDate: String
  webPath: String
}

input LocalTrackedRefInput {
  name: String!
  refType: String!
  isProtected: Boolean
  commit: LocalTrackedCommitInput
}

input SecurityTrackedRefsTrackInput {
  projectPath: ID!
  refs: [LocalTrackedRefInput!]!
}

type SecurityTrackedRefsTrackPayload {
  trackedRefs: [LocalTrackedRef!]!
  errors: [String]!
}
