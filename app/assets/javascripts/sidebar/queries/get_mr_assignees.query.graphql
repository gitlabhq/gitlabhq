#import "~/graphql_shared/fragments/user_with_type.fragment.graphql"
#import "~/graphql_shared/fragments/user_availability.fragment.graphql"

query getMrAssignees($fullPath: ID!, $iid: String!) {
  namespace: project(fullPath: $fullPath) {
    id
    issuable: mergeRequest(iid: $iid) {
      id
      author {
        ...UserWithType
        ...UserAvailability
        compositeIdentityEnforced @gl_introduced(version: "18.8.0")
        mergeRequestInteraction {
          canMerge
        }
      }
      assignees {
        nodes {
          ...UserWithType
          ...UserAvailability
          compositeIdentityEnforced @gl_introduced(version: "18.8.0")
          mergeRequestInteraction {
            canMerge
          }
        }
      }
      userPermissions {
        canMerge
      }
    }
  }
}
