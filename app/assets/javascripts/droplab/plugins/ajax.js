!function(t){function e(n){if(a[n])return a[n].exports;var o=a[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var a={};e.m=t,e.c=a,e.i=function(t){return t},e.d=function(t,a,n){e.o(t,a)||Object.defineProperty(t,a,{configurable:!1,enumerable:!0,get:n})},e.n=function(t){var a=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(a,"a",a),a},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=10)}({10:function(t,e,a){"use strict";function n(t){this.message=t}Object.defineProperty(e,"__esModule",{value:!0});var o={_loadUrlData:function(t){var e=this;return new Promise(function(a,n){var o=new XMLHttpRequest;o.open("GET",t,!0),o.onreadystatechange=function(){if(o.readyState===XMLHttpRequest.DONE){if(200===o.status){var r=JSON.parse(o.responseText);return e.cache[t]=r,a(r)}return n([o.responseText,o.status])}},o.send()})},_loadData:function(t,e,a){if(e.loadingTemplate){var n=a.hook.list.list.querySelector("[data-loading-template]");n&&(n.outerHTML=a.listTemplate)}a.hook.list[e.method].call(a.hook.list,t)},init:function(t){var e=this;e.cache=e.cache||{};var a=t.config.droplabAjax;if(this.hook=t,a&&a.endpoint&&a.method&&("setData"===a.method||"addData"===a.method)){if(a.loadingTemplate){var o=t.list.list.querySelector("[data-dynamic]"),r=document.createElement("div");r.innerHTML=a.loadingTemplate,r.setAttribute("data-loading-template",""),this.listTemplate=o.outerHTML,o.outerHTML=r.outerHTML}e.cache[a.endpoint]?e._loadData(e.cache[a.endpoint],a,e):this._loadUrlData(a.endpoint).then(function(t){e._loadData(t,a,e)}).catch(function(t){throw new n(t.message||t)})}},destroy:function(){var t=this.hook.list.list.querySelector("[data-dynamic]");this.listTemplate&&t&&(t.outerHTML=this.listTemplate)}};window.droplabAjax=o,e.default=o}});
//# sourceMappingURL=ajax.js.map