#import "~/graphql_shared/fragments/group.fragment.graphql"
#import "~/graphql_shared/fragments/project.fragment.graphql"

query activeGroupsAndProjects(
  $active: Boolean
  $search: String
  $sort: String
  $parentId: Int
  $page: Int
) {
  subgroupsAndProjects(
    active: $active
    search: $search
    sort: $sort
    parentId: $parentId
    page: $page
  ) @client {
    nodes {
      ... on Group {
        ...Group
        type
        editPath
        hasChildren
        children
        childrenCount
      }
      ... on Project {
        ...Project
        name
        type
        editPath
      }
    }
    pageInfo {
      total
      perPage
      nextPage
      previousPage
    }
  }
}
