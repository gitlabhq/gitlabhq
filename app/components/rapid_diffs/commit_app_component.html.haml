= render RapidDiffs::AppComponent.new(@presenter, extra_app_data:, extra_prefetch_endpoints:) do |c|
  - if user_permissions[:can_create_note]
    - c.with_before_diffs_list do
      %button.rd-new-discussion-toggle{ 'aria-label': s_('RapidDiffs|Add comment'), data: { new_discussion_toggle: true, click: 'newDiscussion', testid: 'new_discussion_toggle' }, hidden: 'true' }
        = helpers.sprite_icon('comment', size: 12)
  - c.with_after_diffs_list do
    %div{ data: { commit_timeline: true } }
