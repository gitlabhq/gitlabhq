= form_for [@project.namespace.becomes(Namespace), @project, @key], url: namespace_project_deploy_keys_path, html: { class: "js-requires-input" } do |f|
  = form_errors(@key)
  .form-group
    = f.label :title, class: "label-light"
    = f.text_field :title, class: 'form-control', autofocus: true, required: true
  .form-group
    = f.label :key, class: "label-light"
    = f.text_area :key, class: "form-control", rows: 5, required: true
  .form-group
    %p.light.append-bottom-0
      Paste a machine public key here. Read more about how to generate it
      = link_to "here", help_page_path("ssh/README")
  .form-group
    .checkbox
      = f.label :can_push do
        = f.check_box :can_push
        %strong Allow write access
  .form-group
    %p.light.append-bottom-0
      Can this key be used to push to this repository? Deploy keys always have pull access

  = f.submit "Add key", class: "btn-create btn"
