- @gfm_form = true
- current_text ||= nil
- supports_autocomplete = local_assigns.fetch(:supports_autocomplete, true)
- supports_quick_actions = local_assigns.fetch(:supports_quick_actions, false)
- testid = local_assigns.fetch(:testid, '')
- autofocus = local_assigns.fetch(:autofocus, false)

.zen-backdrop
  - classes << ' js-gfm-input js-autosize markdown-area'
  - if defined?(f) && f
    = f.text_area attr,
      class: classes,
      placeholder: placeholder,
      dir: 'auto',
      data: { supports_quick_actions: supports_quick_actions,
        supports_autocomplete: supports_autocomplete,
        testid: testid,
        autofocus: autofocus }
  - else
    = text_area_tag attr, current_text, data: { testid: testid }, class: classes, placeholder: placeholder
  %a.zen-control.zen-control-leave.js-zen-leave.gl-button.btn-default-tertiary.btn-icon.btn-sm.has-tooltip{ href: "#", title: _("Exit full screen"), data: { placement: "left" } }
    = sprite_icon('minimize', size: 24, css_class: 'gl-text-subtle')
