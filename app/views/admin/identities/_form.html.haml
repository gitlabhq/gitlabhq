= gitlab_ui_form_for [:admin, @user, @identity], html: { class: 'fieldset-form' } do |f|
  = form_errors(@identity)

  .form-group.row
    .gl-col-sm-2.col-form-label
      = f.label :provider
    .gl-col-sm-10
      - values = Gitlab::Auth::OAuth::Provider.providers.map { |name| ["#{Gitlab::Auth::OAuth::Provider.label_for(name)} (#{name})", name] }
      = f.select :provider, values, { allow_blank: false }, class: 'form-control'
  = render_if_exists partial: 'admin/identities/provider_id', locals: { f: f }
  .form-group.row
    .gl-col-sm-2.col-form-label
      = f.label :extern_uid, _("Identifier")
    .gl-col-sm-10
      = f.text_field :extern_uid, class: 'form-control', required: true

  .form-actions
    = f.submit _('Save changes'), pajamas_button: true
