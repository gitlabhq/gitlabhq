# frozen_string_literal: true

class RemoveRiskScoreFromVulnerabilityNamespaceStatistics < Gitlab::Database::Migration[2.3]
  milestone '18.7'

  def up
    remove_column :vulnerability_namespace_statistics, :age_average
    remove_column :vulnerability_namespace_statistics, :age_standard_deviation
    remove_column :vulnerability_namespace_statistics, :risk_score
  end

  def down
    add_column :vulnerability_namespace_statistics, :age_average, :float, null: false, default: 0
    add_column :vulnerability_namespace_statistics, :age_standard_deviation, :float, null: false, default: 0
    add_column :vulnerability_namespace_statistics, :risk_score, :float, null: false, default: 0
  end
end
