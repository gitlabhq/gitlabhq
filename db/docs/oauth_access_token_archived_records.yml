---
table_name: oauth_access_token_archived_records
classes:
- Authn::OauthAccessTokenArchivedRecord
feature_categories:
- system_access
description: |
  Temporary archive table for deleted `oauth_access_tokens` records.
  Used as a safety net during `oauth_access_tokens` retention policy implementation.
  This table stores copies of records deleted from `oauth_access_tokens`.
  This is not intended for operational use. To be used only in emergency or recovery situations.
  We will drop this table once retention policy is implemented and confirmed, in 3-4 milestones.
introduced_by_url: https://gitlab.com/gitlab-org/gitlab/-/merge_requests/197692
milestone: '18.5'
gitlab_schema: gitlab_main_org
sharding_key:
  organization_id: organizations
notes: |
  Temporary table for archiving oauth access tokens during retention implementation.
  Will be dropped after verification period.
table_size: medium
