---
stage: Security Risk Management
group: Security Platform Management
info: To determine the technical writer assigned to the Stage/Group associated with this page, see https://handbook.gitlab.com/handbook/product/ux/technical-writing/#assignments
title: セキュリティ設定プロファイルを管理する
---

{{< details >}}

- プラン: Ultimate
- 提供形態: GitLab.com、GitLab Self-Managed、GitLab Dedicated

{{< /details >}}

{{< history >}}

- GitLab 18.9で[導入](https://gitlab.com/groups/gitlab-org/-/epics/19802)されました。

{{< /history >}}

セキュリティ設定プロファイルは、プロジェクト全体でセキュリティスキャナーをどのように、いつ実行するかを定義する集中化された設定です。セキュリティ設定プロファイルを使用して、組織全体のセキュリティスキャナーを効率的に管理します。プロファイルベースのアプローチでは、最小限の手動セットアップでベストプラクティスが適用されます。

プロファイルは継承を使用します。グループに対して管理するセキュリティ属性とカバレッジは、個々のサブグループまたはプロジェクトのカバレッジが変更されない限り、そのサブグループとプロジェクトにも適用できます。 

[デフォルトプロファイル](#default-profiles)を使用すると、数分で、最小限の設定で事前設定済みのセキュリティスキャンを有効にできます。

## セキュリティスキャナーを設定 {#configure-security-scanners}

プロファイルを評価および管理するには、グループの[セキュリティインベントリ](../security_inventory/_index.md#view-the-security-inventory)を中央ダッシュボードとして使用します。

### テストカバレッジのレビュー {#review-test-coverage}

SAST、DAST、シークレット検出などのグループ内のスキャナーの概要ステータス（**有効**、**Not Enabled**、または**失敗**）を表示するには:

1. 上部のバーで、**検索または移動先**を選択して、グループを見つけます。
1. **セキュリティ** > **セキュリティインベントリ**を選択します。
1. セキュリティインベントリで、**Test Coverage**列をレビューします。 

### 個々のプロジェクトのカバレッジを変更する {#change-individual-project-coverage}

特定のプロジェクトを設定するには:

1. 上部のバーで、**検索または移動先**を選択して、グループを見つけます。
1. **セキュリティ** > **セキュリティインベントリ**を選択します。
1. プロジェクトの横にある縦方向の省略記号（{{< icon name="ellipsis_v" >}}）を選択し、**Manage tool coverage**を選択します。
1. 個々のスキャナーをオンまたはオフにします。

### 複数のプロジェクトにプロファイルを適用する {#apply-a-profile-to-multiple-projects}

時間を節約するために、複数のプロジェクトにセキュリティ設定を一度に適用できます:

1. 上部のバーで、**検索または移動先**を選択して、グループを見つけます。
1. **セキュリティ** > **セキュリティインベントリ**を選択します。
1. 複数のプロジェクトまたはサブグループ全体を選択して、設定を適用します。 
1. **Bulk Action**ドロップダウンを選択し、**Manage security scanners**を選択します。
1. **デフォルトプロファイルをすべてに適用**を選択して、選択範囲全体のセキュリティ対策状況を標準化します。

## デフォルトプロファイル {#default-profiles} 

GitLabには、事前設定済みのスキャナー設定であるデフォルトプロファイルが用意されているため、最小限の設定でセキュリティスキャンを有効にできます。

### シークレット検出プロファイル {#secret-detection-profile}

シークレット検出プロファイル（デフォルトプロファイル）を適用すると、開発ワークフロー全体で推奨されるシークレットのベースライン保護が有効になります。保護には以下が含まれます:

- Gitプッシュ保護: `git push`中に、シークレットがリポジトリにコミットされるのをリアルタイムでブロックします。

### プロファイルの詳細 {#profile-details}

シークレット検出プロファイルに関する技術的な詳細を表示するには:

1. 上部のバーで、**検索または移動先**を選択して、グループを見つけます。
1. **セキュリティ** > **セキュリティインベントリ**を選択します。
1. **シークレットの検出**プロファイルを選択します。
1. 次の情報をレビューします:
   - **Analyzer Type**: プロファイルのタイプ（たとえば、**シークレットの検出**）
   - **Active Triggers**: プロファイルがサポートするトリガーのタイプ（たとえば、**Git push events**）。
   - **状態**: カバレッジステータスインジケーターを使用して、現在のコンテキストに対してプロファイルが現在**アクティブ**であるか**無効**であるかを表示します。

## カバレッジステータスインジケーター {#coverage-status-indicators}

システムは、プロジェクトが保護されているかどうかを示すために、インベントリで視覚的なブロックを使用します:

- **Solid green bar**: スキャナーは完全に有効で、アクティブです。
- **Gray/empty bar**: スキャナーはまだ設定または有効になっていません。
- **Partial bar**: 一部の保護がアクティブです（たとえば、プロファイルで使用可能な一部のスキャナーは有効になっていますが、その他は有効になっていません）。
- **Tooltips**: いずれかのカバレッジバーにカーソルを合わせると、パイプラインベースのスキャンの**last scan**日と特定のパイプラインステータスが表示されます。

> [!note]
> 従来のスキャナーとは異なり、Gitプッシュ保護はプッシュプロセス中にリアルタイムで実行されるため、「last scan」の日付に依存しません。

## トラブルシューティング {#troubleshooting}

セキュリティ設定プロファイルを使用する場合、次の問題が発生する可能性があります。

### Gitプッシュ保護のlast scan日が表示されない {#no-last-scan-date-appears-for-git-push-protection}

Gitプッシュ保護は、スケジュールベースではなくイベントベースです。これは、`git push`プロセス中にリアルタイムでシークレットを傍受します。これは`push`コマンドの瞬間にアクティブになるため、パイプラインベースのスキャナーで予期されるようなlast scan日はありません。

### スキャナーのステータスはダッシュボードではアクティブですが、インベントリのツールチップでは有効になっていません {#scanner-status-is-active-in-the-dashboard-but-not-enabled-in-inventory-tooltip}

これは、プロジェクトがレガシー設定を使用していると同時に、新しいプロファイルが割り当てられている場合に発生する可能性があります。

この問題を解決するには:

1. 最新の正確なプロファイル状態については、セキュリティ設定ページを確認してください。
1. 必要に応じて、`.gitlab-ci.yml`ファイルからレガシースキャナーの設定を削除して、プロファイルベースの設定のみに依存するようにします。

> [!note]
> インベントリのツールチップは、レガシー設定とプロファイルベースの設定の両方の結合されたステータスを反映するように改良されています。

### レガシーとプロファイルベースの設定の違いについて {#understanding-legacy-versus-profile-based-configuration}

レガシースキャナーの設定からプロファイルベースの設定に移行する場合は、次の違いに注意してください:

- レガシー設定: スキャナーを有効にするには、YAMLファイルまたは個々のプロジェクト設定を手動で編集する必要があります。
- プロファイルベースの設定: **セキュリティマネージャー**またはデフォルトプロファイルを複数のプロジェクトに一度に適用できる集中型システムを使用します（コードを変更する必要はありません）。

プロファイルベースの設定は、より簡単な管理とプロジェクト間でのより高い一貫性のために推奨されます。
